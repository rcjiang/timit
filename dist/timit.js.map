{"version":3,"sources":["webpack://timit/webpack/universalModuleDefinition","webpack://timit/./src/lib/utils.js","webpack://timit/./src/core/hrtime.js","webpack://timit/./src/core/timeit.js","webpack://timit/./src/index.js","webpack://timit/webpack/bootstrap","webpack://timit/webpack/startup","webpack://timit/webpack/runtime/define property getters","webpack://timit/webpack/runtime/hasOwnProperty shorthand"],"names":["root","factory","exports","module","define","amd","this","positiveInt","value","int","parseInt","undefined","isObject","Object","prototype","toString","call","slice","pipe","initVal","fns","reduce","fn","round","num","digits","scale","Math","useHrtime","globalThis","process","hrtime","now","bigint","bind","performance","toMillisecond","funcs","argsList","repeat","numbers","map","args","func","Array","from","length","start","duration","iterate","Timit","option","assign","output","log","params","overload","patch","obj","data","entries","o","key","create","standard","validate","pipes","stat","push","isArray","i","findIndex","v","flat","others","isInt","unshift","concat","every","TypeError","isNaN","res","average","item","values","a","b","min","max","oData","oStat","name","JSON","stringify","logData","index","console","table","records","rows","timit","__instance","time","arguments","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","defineProperty","enumerable","get","prop","hasOwnProperty"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAe,MAAID,IAEnBD,EAAY,MAAIC,IARlB,CASGK,MAAM,WACT,M,wCCVO,SAASC,EAAYC,GACxB,IAAIC,EAAMC,SAASF,GACnB,OAAOC,EAAM,EAAKA,OAAME,EAWrB,SAASC,EAASJ,GACrB,MAA8D,WAAvDK,OAAOC,UAAUC,SAASC,KAAKR,GAAOS,MAAM,GAAI,GAGpD,SAASC,EAAKC,KAAYC,GAC7B,OAAOA,EAAIC,QAAO,CAACb,EAAOc,IAAOA,EAAGd,IAAQW,GAGzC,SAASI,EAAMC,EAAKC,EAAS,GAChC,MAAMC,EAAQ,IAAMD,EACpB,OAAOE,KAAKJ,MAAMC,EAAME,GAASA,E,uBCvBrC,MAAME,EAAYC,WAAWC,SAAWD,WAAWC,QAAQC,OAErDC,EAAMJ,EACNC,WAAWC,QAAQC,OAAOE,OAAOC,KAAKL,WAAWC,QAAQC,QACzDF,WAAWM,YAAYH,IAAIE,KAAKL,WAAWM,aAE3CC,EAAgBR,EAAYpB,GAASE,SAASF,GAAS,IAAMA,GAASA,ECgB5E,QARA,SAAgB6B,EAAOC,EAAUC,EAAQC,GACrC,OAAOF,EAASG,KAAIC,GAChBL,EAAMI,KAAIE,GANlB,SAAiBA,EAAMJ,EAAS,EAAGC,GAC/B,OAAOI,MAAMC,KAAK,CAACC,OAAQP,IAASE,KAAI,IAT5C,SAAkBE,EAAMH,EAAU,GAC9B,MAAMO,EAAQf,IACd,KAAOQ,KACHG,IAEJ,OAAOP,EAAcJ,IAAQe,GAIiBC,CAASL,EAAMH,KAMrDS,CAAQN,EAAKT,KAAK,QAASQ,GAAOH,EAAQC,QCRtD,MAAMU,EACF,YAAYC,GACR7C,KAAK6C,OAAStC,OAAOuC,OAAO,CACxBf,MAAO,GACPC,SAAU,CAAC,IACXC,OAAQ,EACRC,QAAS,EACTa,OAAQC,EACR7B,OAAQ,GACT0B,GAGP,QAAQI,GACJ,MAAMJ,EAASjC,EAAKqC,EAAQC,GAiClBC,EAjCqCnD,KAAK6C,OAkCjDO,IACH,IAAIC,EAAO9C,OAAO+C,QAAQF,GAAKrC,QAAO,CAACwC,GAAIC,EAAKtD,WAC9BG,IAAVH,IACAqD,EAAEC,GAAOtD,GAENqD,IACR,IACH,OAAOhD,OAAOuC,OAAOvC,OAAOkD,OAAO,MAAON,EAAOE,KAzCYK,EAAUC,GAiC/E,IAAkBR,EAhCV,MAAM,MAAEpB,EAAK,SAAEC,EAAQ,OAAEC,EAAM,QAAEC,EAAO,OAAEa,GAAWF,EAC/CQ,EAAO,EAAOtB,EAAOC,EAAUC,EAAQC,GACvC0B,EAAQ,CAACC,EAAM,GAIrB,MAHsB,mBAAXd,GACPa,EAAME,KAAKf,GAERnC,EAAK,CAACyC,OAAMR,aAAYe,IAIvC,SAASV,EAASD,GACd,IAAIJ,EAASI,EAAO,GACpB,GAAsB,iBAAXJ,IAAwBP,MAAMyB,QAAQlB,GAC7C,OAAOA,EAGX,IAAImB,EAAI1B,MAAMyB,QAAQlB,GAAU,EAAII,EAAOgB,WAAUC,GAAkB,mBAANA,KACtD,IAAPF,IAAUA,EAAIf,EAAOT,QACzB,MAAMT,EAAQkB,EAAOtC,MAAM,EAAGqD,GAAGG,OAC3BC,EAASnB,EAAOtC,MAAMqD,GHjCzB,IAAuB9D,EGkCtBkE,EAAO5B,OAAS,IHtCjB,SAAetC,GAClB,OAAOE,SAASF,KAAWA,EAIpBmE,CADmBnE,EGkCakE,EAAO,KHjCvBlE,EAAQ,IGkC3BkE,EAAOE,aAAQjE,GAEnB,MAAQ2B,EAAUC,EAAQC,GAAYkC,EACtC,MAAO,CACHrC,MAAOA,EAAMS,OAAST,OAAQ1B,EAC9B2B,WACAC,SACAC,WAgBR,SAASwB,GAAS,MAAC3B,EAAK,SAAEC,EAAQ,OAAEC,EAAM,QAAEC,EAAO,OAAEa,EAAM,OAAE5B,IACzD,MAAO,CACHY,MAAOA,EAAQ,GAAGwC,OAAOxC,GAAS,GAClCC,SAAU,GAAGuC,OAAOvC,GAAUG,KAAI+B,GAAK,GAAGK,OAAOL,KACjDjC,OAAQhC,EAAYgC,GACpBC,QAASjC,EAAYiC,GACrBf,OAAQf,SAASe,GACjB4B,OAAQA,GAIhB,SAASY,EAASd,GACd,MAAM,MAAEd,EAAK,OAAEZ,GAAW0B,EAC1B,IAAMd,EAAMS,SAAUT,EAAMyC,OAAMtE,GAA0B,mBAAVA,IAC9C,MAAM,IAAIuE,UAAU,qDAExB,GAAIC,MAAMvD,GACN,MAAM,IAAIsD,UAAU,4CAExB,OAAO5B,EAGX,SAASgB,EAAKc,GACV,MAAMtB,EAAOsB,EAAItB,KAOjB,MAAO,CACHQ,KAAM,CACFe,QARQvB,EAAKlB,KAAI0C,GAAQA,EAAK1C,KAAI2C,GAC1BA,EAAO/D,QAAO,CAACgE,EAAGC,IAAMD,EAAIC,IAC3BF,EAAOtC,WAOhByC,IALI5B,EAAKlB,KAAI0C,GAAQA,EAAK1C,KAAI2C,GAAUzD,KAAK4D,OAAOH,OAMpDI,IALI7B,EAAKlB,KAAI0C,GAAQA,EAAK1C,KAAI2C,GAAUzD,KAAK6D,OAAOJ,WAOrDH,GAIX,SAAS,EAAMA,GACX,MAAQtB,KAAM8B,EAAOtB,KAAMuB,EAAOvC,QAAQ,OAAE1B,IAAYwD,EAaxD,MAAO,CACHtB,KAbS8B,EAAMhD,KAAI0C,GACnBA,EAAK1C,KAAI2C,GACLA,EAAO3C,KAAIjC,GAAS,EAAQA,EAAOiB,SAYvC0C,KATStD,OAAO+C,QAAQ8B,GAAOrE,QAAO,CAACwC,GAAIC,EAAKtD,MAChDqD,EAAEC,GAAOtD,EAAMiC,KAAI0C,GACfA,EAAK1C,KAAIjC,GAAS,EAAQA,EAAOiB,OAE9BoC,IACRhD,OAAOkD,OAAO,OAKbZ,OAAQ8B,EAAI9B,QAIpB,SAASG,GAAI,KAACK,EAAI,KAAEQ,EAAI,OAAEhB,IACtB,MAAMd,EAAQc,EAAOd,MAAMI,KAAI,CAACnB,EAAIgD,IAAMhD,EAAGqE,MAAO,aAAarB,OAC3DhC,EAAWa,EAAOb,SAASG,KAAIC,GAAQkD,KAAKC,UAAUnD,GAAMzB,MAAM,GAAI,KACtE6E,EAAUnC,EAAKlB,KAAI,CAAC+B,EAAGF,KACzB,MAAMa,EAAOtE,OAAOuC,OAAOvC,OAAOkD,OAAO,MAAO,CAC5C,cAAezB,EAASgC,KAE5B,OAAOjC,EAAMhB,QAAO,CAAC8D,EAAMrB,EAAKiC,KAC5BZ,EAAKrB,GAAOK,EAAKe,QAAQZ,GAAGyB,GACrBZ,IACRA,MAEP,GAAIxB,EAAKb,OAAS,EAEd,OADAkD,QAAQC,MAAMH,GACPA,EAGX,MAAMI,EAAUvC,EAAK,GACfwC,EAAOD,EAAQ,GAAGzD,KAAI,CAAC+B,EAAGF,IACrBjC,EAAMhB,QAAO,CAAC8D,EAAMrB,EAAKiC,KAC5BZ,EAAKrB,GAAOoC,EAAQH,GAAOzB,GACpBa,IACRtE,OAAOkD,OAAO,SAErB,GAAIoC,EAAKrD,OAAS,EAAI,CAClB,MAAMoC,EAAUY,EAAQ,UACjBZ,EAAQ,eACfiB,EAAc,QAAIjB,EAGtB,OADAc,QAAQC,MAAME,GACPA,EAGI,SAASC,EAAMjD,GAC1B,cAAgB,CACZ,IAAKvC,EAASuC,GACV,MAAM,IAAI4B,UAAU,gCAExB,OAAO,IAAI7B,EAAMC,GAKrB,OAHKiD,EAAMC,aACPD,EAAMC,WAAa,IAAInD,GAEpBkD,EAAMC,WAAWC,QAAQC,cC1KhCC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUxG,QAG3C,IAAIC,EAASqG,EAAyBE,GAAY,CAGjDxG,QAAS,IAOV,OAHAyG,EAAoBD,GAAUvG,EAAQA,EAAOD,QAASuG,GAG/CtG,EAAOD,QCjBf,OCFAuG,EAAoBG,EAAI,CAAC1G,EAAS2G,KACjC,IAAI,IAAI/C,KAAO+C,EACXJ,EAAoB5C,EAAEgD,EAAY/C,KAAS2C,EAAoB5C,EAAE3D,EAAS4D,IAC5EjD,OAAOiG,eAAe5G,EAAS4D,EAAK,CAAEiD,YAAY,EAAMC,IAAKH,EAAW/C,MCJ3E2C,EAAoB5C,EAAI,CAACH,EAAKuD,IAASpG,OAAOC,UAAUoG,eAAelG,KAAK0C,EAAKuD,GFG1ER,EAAoB,M","file":"timit.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"timit\"] = factory();\n\telse\n\t\troot[\"timit\"] = factory();\n})(this, function() {\nreturn ","export function positiveInt(value) {\r\n    let int = parseInt(value);\r\n    return int > 0  ? int : undefined;\r\n}\r\n\r\nexport function isInt(value) {\r\n    return parseInt(value) === value\r\n}\r\n\r\nexport function isPositiveInt(value) {\r\n    return isInt(value) && value > 0\r\n}\r\n\r\nexport function isObject(value) {\r\n    return Object.prototype.toString.call(value).slice(8, -1) === 'Object'\r\n}\r\n\r\nexport function pipe(initVal, ...fns) {\r\n    return fns.reduce((value, fn) => fn(value), initVal);\r\n}\r\n\r\nexport function round(num, digits = 0) {\r\n    const scale = 10 ** digits\r\n    return Math.round(num * scale) / scale\r\n}","const useHrtime = globalThis.process && globalThis.process.hrtime\r\n\r\nconst now = useHrtime \r\n    ? globalThis.process.hrtime.bigint.bind(globalThis.process.hrtime)\r\n    : globalThis.performance.now.bind(globalThis.performance)\r\n\r\nconst toMillisecond = useHrtime ? value => parseInt(value) / 1e6 : value => value;\r\n\r\nexport { now, toMillisecond }","import { now, toMillisecond } from './hrtime.js'\r\n\r\nfunction duration(func, numbers = 1) {\r\n    const start = now()\r\n    while (numbers--) {\r\n        func()\r\n    }\r\n    return toMillisecond(now() - start)\r\n}\r\n\r\nfunction iterate(func, repeat = 5, numbers) {\r\n    return Array.from({length: repeat}).map(() => duration(func, numbers))\r\n}\r\n\r\nfunction timeit(funcs, argsList, repeat, numbers) {\r\n    return argsList.map(args =>\r\n        funcs.map(func => \r\n            iterate(func.bind(null, ...args), repeat, numbers)\r\n        )\r\n    );\r\n}\r\n\r\nexport default timeit\r\n","import { \r\n    positiveInt,\r\n    isPositiveInt,\r\n    isObject,\r\n    pipe,\r\n    round as toFixed,\r\n} from './lib/utils.js'\r\nimport timeit from './core/timeit.js'\r\n\r\nclass Timit {\r\n    constructor(option) {\r\n        this.option = Object.assign({\r\n            funcs: [],\r\n            argsList: [[]],\r\n            repeat: 5,\r\n            numbers: 1,\r\n            output: log,\r\n            digits: 3,\r\n        }, option)\r\n    }\r\n\r\n    time(...params) {\r\n        const option = pipe(params, overload, addendum(this.option), standard, validate)\r\n        const { funcs, argsList, repeat, numbers, output } = option\r\n        const data = timeit(funcs, argsList, repeat, numbers)\r\n        const pipes = [stat, round]\r\n        if (typeof output === 'function') {\r\n            pipes.push(output)\r\n        }\r\n        return pipe({data, option}, ...pipes)\r\n    }\r\n}\r\n\r\nfunction overload(params) {\r\n    let option = params[0]\r\n    if (typeof option === 'object' && !Array.isArray(option)) {\r\n        return option\r\n    }\r\n\r\n    let i = Array.isArray(option) ? 1 : params.findIndex(v => typeof v !== 'function')\r\n    if (i === -1) i = params.length\r\n    const funcs = params.slice(0, i).flat();\r\n    const others = params.slice(i);\r\n    if (others.length < 3 && isPositiveInt(others[0])) {\r\n        others.unshift(undefined);\r\n    }\r\n    const [ argsList, repeat, numbers ] = others;\r\n    return {\r\n        funcs: funcs.length ? funcs : undefined,\r\n        argsList,\r\n        repeat,\r\n        numbers,\r\n    }\r\n}\r\n\r\nfunction addendum(patch) {\r\n    return obj =>  {\r\n        let data = Object.entries(obj).reduce((o, [key, value]) => {\r\n            if (value !== undefined) {\r\n                o[key] = value\r\n            }\r\n            return o\r\n        }, {})\r\n        return Object.assign(Object.create(null), patch, data)\r\n    }\r\n}\r\n\r\nfunction standard({funcs, argsList, repeat, numbers, output, digits}) {\r\n    return {\r\n        funcs: funcs ? [].concat(funcs) : [],\r\n        argsList: [].concat(argsList).map(v => [].concat(v)),\r\n        repeat: positiveInt(repeat),\r\n        numbers: positiveInt(numbers),\r\n        digits: parseInt(digits),\r\n        output: output,\r\n    }\r\n}\r\n\r\nfunction validate(option) {\r\n    const { funcs, digits } = option\r\n    if (!(funcs.length && funcs.every(value => typeof value === 'function'))) {\r\n        throw new TypeError('The param funcs is required a array of functions!')\r\n    }\r\n    if (isNaN(digits)) {\r\n        throw new TypeError('The param digits is required int number!')\r\n    }\r\n    return option\r\n}\r\n\r\nfunction stat(res) {\r\n    const data = res.data\r\n    const average = data.map(item => item.map(values => {\r\n        const sum = values.reduce((a, b) => a + b)\r\n        return sum / values.length\r\n    }))\r\n    const min = data.map(item => item.map(values => Math.min(...values)))\r\n    const max = data.map(item => item.map(values => Math.max(...values)))\r\n    return {\r\n        stat: {\r\n            average,\r\n            min,\r\n            max, \r\n        },\r\n        ...res,\r\n    }\r\n}\r\n\r\nfunction round(res) {\r\n    const { data: oData, stat: oStat, option: { digits }} = res\r\n    const data = oData.map(item => \r\n        item.map(values => \r\n            values.map(value => toFixed(value, digits))\r\n        )\r\n    )\r\n    const stat = Object.entries(oStat).reduce((o, [key, value]) => {\r\n        o[key] = value.map(item => \r\n            item.map(value => toFixed(value, digits))\r\n        )\r\n        return o;\r\n    }, Object.create(null))\r\n\r\n    return {\r\n        data,\r\n        stat,\r\n        option: res.option\r\n    } \r\n}\r\n\r\nfunction log({data, stat, option}) {\r\n    const funcs = option.funcs.map((fn, i) => fn.name ||`(anonymous${i})`)\r\n    const argsList = option.argsList.map(args => JSON.stringify(args).slice(1, -1))\r\n    const logData = data.map((v, i) => {\r\n        const item = Object.assign(Object.create(null), {\r\n            '(arguments)': argsList[i]\r\n        })\r\n        return funcs.reduce((item, key, index) => {\r\n            item[key] = stat.average[i][index]\r\n            return item\r\n        }, item)\r\n    })\r\n    if (data.length > 1) {\r\n        console.table(logData)\r\n        return logData\r\n    }\r\n    \r\n    const records = data[0];\r\n    const rows = records[0].map((v, i) => {\r\n        return funcs.reduce((item, key, index) => {\r\n            item[key] = records[index][i]\r\n            return item\r\n        }, Object.create(null))\r\n    });\r\n    if (rows.length > 1)  {\r\n        const average = logData[0]\r\n        delete average['(arguments)']\r\n        rows['average'] = average\r\n    }\r\n    console.table(rows)\r\n    return rows\r\n}\r\n\r\nexport default function timit(option) {\r\n    if (new.target) {\r\n        if (!isObject(option)) {\r\n            throw new TypeError('option required Object type!')\r\n        }\r\n        return new Timit(option)\r\n    }\r\n    if (!timit.__instance) {\r\n        timit.__instance = new Timit()\r\n    }\r\n    return timit.__instance.time(...arguments)\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(980);\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)"],"sourceRoot":""}